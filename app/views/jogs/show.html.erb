<p id="notice"><%= notice %></p>

<p>
  <strong>N:</strong>
  <%= @jog.n %>
</p>

<div id="memory" style="width:100%; height:400px;"></div>
<br/>
<div id="response_time" style="width:100%; height:400px;"></div>
<br/>
<div id="major_gc" style="width:100%; height:400px;"></div>
<br/>
<div id="minor_gc" style="width:100%; height:400px;"></div>
<br/>
<div id="retained" style="width:100%; height:400px;"></div>
<br/>
<div id="total" style="width:100%; height:400px;"></div>
<br/>
<div id="strings" style="width:100%; height:400px;"></div>
<br/>
<div id="arrays" style="width:100%; height:400px;"></div>
<br/>
<div id="hashes" style="width:100%; height:400px;"></div>

<%= link_to 'Back', jogs_path %>

<script type="text/javascript">
$(function () {
  $('#memory').highcharts('Chart', {
    title: { text: 'Memory Usage' },
    xAxis: {
      title: {
        text: 'time'
      },
      type: 'datetime'
    },

    series: [{
      name: 'mb',
      data: <%= @memory %>,
    }],

    dataGrouping: {
      groupPixelWidth: 50,
      approximation: 'average'
    }
  });

  $('#response_time').highcharts('Chart', {
    title: { text: 'Response Time' },
    xAxis: {
      title: {
        text: 'time'
      },
      type: 'datetime'
    },

    series: [{
      name: 'total',
      data: <%= @response_time %>,
    }],

    dataGrouping: {
      groupPixelWidth: 50,
      approximation: 'average'
    }
  });

  $('#major_gc').highcharts('Chart', {
    title: { text: 'Major GC' },
    xAxis: {
      title: {
        text: 'time'
      },
      type: 'datetime'
    },

    series: [{
      name: 'total',
      data: <%= @major_gc %>,
    }],

    dataGrouping: {
      groupPixelWidth: 50,
      approximation: 'average'
    }
  });

  $('#minor_gc').highcharts('Chart', {
    title: { text: 'Minor GC' },
    xAxis: {
      title: {
        text: 'time'
      },
      type: 'datetime'
    },

    series: [{
      name: 'total',
      data: <%= @minor_gc %>,
    }],

    dataGrouping: {
      groupPixelWidth: 50,
      approximation: 'average'
    }
  });

  $('#retained').highcharts('Chart', {
    title: { text: 'Retained objects' },
    xAxis: {
      title: {
        text: 'time'
      },
      type: 'datetime'
    },

    series: [{
      name: 'retained',
      data: <%= @retained %>,
    }],

    dataGrouping: {
      groupPixelWidth: 50,
      approximation: 'average'
    }
  });

  $('#total').highcharts('Chart', {
    title: { text: 'Total objects' },
    xAxis: {
      title: {
        text: 'time'
      },
      type: 'datetime'
    },

    series: [{
      name: 'total',
      data: <%= @total %>,
    }],

    dataGrouping: {
      groupPixelWidth: 50,
      approximation: 'average'
    }
  });

  $('#strings').highcharts('Chart', {
    title: { text: 'Total strings' },
    xAxis: {
      title: {
        text: 'time'
      },
      type: 'datetime'
    },

    series: [{
      name: 'total',
      data: <%= @strings %>,
    }],

    dataGrouping: {
      groupPixelWidth: 50,
      approximation: 'average'
    }
  });

  $('#arrays').highcharts('Chart', {
    title: { text: 'Total arrays' },
    xAxis: {
      title: {
        text: 'time'
      },
      type: 'datetime'
    },

    series: [{
      name: 'total',
      data: <%= @arrays %>,
    }],

    dataGrouping: {
      groupPixelWidth: 50,
      approximation: 'average'
    }
  });

  $('#hashes').highcharts('Chart', {
    title: { text: 'Total hashes' },
    xAxis: {
      title: {
        text: 'time'
      },
      type: 'datetime'
    },

    series: [{
      name: 'total',
      data: <%= @hashes %>,
    }],

    dataGrouping: {
      groupPixelWidth: 50,
      approximation: 'average'
    }
  });
});
</script>
